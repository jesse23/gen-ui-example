import{C as e,S as t,b as n,c as r,t as i,v as a,x as o,y as s}from"./index-vmVyJeuJ.js";var c=o(),l=e(t(),1),u=e=>e.type===`checkbox`,d=e=>e instanceof Date,f=e=>e==null,p=e=>typeof e==`object`,m=e=>!f(e)&&!Array.isArray(e)&&p(e)&&!d(e),h=e=>m(e)&&e.target?u(e.target)?e.target.checked:e.target.value:e,g=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_=(e,t)=>e.has(g(t)),v=e=>{let t=e.constructor&&e.constructor.prototype;return m(t)&&t.hasOwnProperty(`isPrototypeOf`)},y=typeof window<`u`&&window.HTMLElement!==void 0&&typeof document<`u`;function b(e){if(e instanceof Date)return new Date(e);let t=typeof FileList<`u`&&e instanceof FileList;if(y&&(e instanceof Blob||t))return e;let n=Array.isArray(e);if(!n&&!(m(e)&&v(e)))return e;let r=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=b(e[t]));return r}var x=e=>/^\w*$/.test(e),S=e=>e===void 0,C=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>C(e.replace(/["|']|\]/g,``).split(/\.|\[/)),T=(e,t,n)=>{if(!t||!m(e))return n;let r=(x(t)?[t]:w(t)).reduce((e,t)=>f(e)?e:e[t],e);return S(r)||r===e?S(e[t])?n:e[t]:r},E=e=>typeof e==`boolean`,D=e=>typeof e==`function`,O=(e,t,n)=>{let r=-1,i=x(t)?[t]:w(t),a=i.length,o=a-1;for(;++r<a;){let t=i[r],a=n;if(r!==o){let n=e[t];a=m(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if(t===`__proto__`||t===`constructor`||t===`prototype`)return;e[t]=a,e=e[t]}},ee={BLUR:`blur`,FOCUS_OUT:`focusout`,CHANGE:`change`},k={onBlur:`onBlur`,onChange:`onChange`,onSubmit:`onSubmit`,onTouched:`onTouched`,all:`all`},A={max:`max`,min:`min`,maxLength:`maxLength`,minLength:`minLength`,pattern:`pattern`,required:`required`,validate:`validate`},j=l.createContext(null);j.displayName=`HookFormControlContext`;var M=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let a in e)Object.defineProperty(i,a,{get:()=>{let i=a;return t._proxyFormState[i]!==k.all&&(t._proxyFormState[i]=!r||k.all),n&&(n[i]=!0),e[i]}});return i},N=typeof window<`u`?l.useLayoutEffect:l.useEffect,P=e=>typeof e==`string`,te=(e,t,n,r,i)=>P(e)?(r&&t.watch.add(e),T(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),T(n,e))):(r&&(t.watchAll=!0),n),ne=e=>f(e)||!p(e);function F(e,t,n=new WeakSet){if(ne(e)||ne(t))return Object.is(e,t);if(d(e)&&d(t))return Object.is(e.getTime(),t.getTime());let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(let a of r){let r=e[a];if(!i.includes(a))return!1;if(a!==`ref`){let e=t[a];if(d(r)&&d(e)||m(r)&&m(e)||Array.isArray(r)&&Array.isArray(e)?!F(r,e,n):!Object.is(r,e))return!1}}return!0}var re=l.createContext(null);re.displayName=`HookFormContext`;var ie=()=>l.useContext(re),ae=e=>{let{children:t,watch:n,getValues:r,getFieldState:i,setError:a,clearErrors:o,setValue:s,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:p,unregister:m,control:h,register:g,setFocus:_,subscribe:v}=e;return l.createElement(re.Provider,{value:l.useMemo(()=>({watch:n,getValues:r,getFieldState:i,setError:a,clearErrors:o,setValue:s,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:p,unregister:m,control:h,register:g,setFocus:_,subscribe:v}),[o,h,u,i,r,p,g,f,d,a,_,s,v,c,m,n])},l.createElement(j.Provider,{value:h},t))},oe=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},I=e=>Array.isArray(e)?e:[e],se=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function ce(e,t){let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],a=t[r];if(i&&m(i)&&a){let e=ce(i,a);m(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var L=e=>m(e)&&!Object.keys(e).length,le=e=>e.type===`file`,ue=e=>{if(!y)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},de=e=>e.type===`select-multiple`,R=e=>e.type===`radio`,fe=e=>R(e)||u(e),pe=e=>ue(e)&&e.isConnected;function me(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=S(e)?r++:e[t[r++]];return e}function z(e){for(let t in e)if(e.hasOwnProperty(t)&&!S(e[t]))return!1;return!0}function B(e,t){let n=Array.isArray(t)?t:x(t)?[t]:w(t),r=n.length===1?e:me(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(m(r)&&L(r)||Array.isArray(r)&&z(r))&&B(e,n.slice(0,-1)),e}var he=e=>{for(let t in e)if(D(e[t]))return!0;return!1};function V(e){return Array.isArray(e)||m(e)&&!he(e)}function H(e,t={}){for(let n in e){let r=e[n];V(r)?(t[n]=Array.isArray(r)?[]:{},H(r,t[n])):S(r)||(t[n]=!0)}return t}function U(e,t,n){for(let r in n||=H(t),e){let i=e[r];if(V(i))S(t)||ne(n[r])?n[r]=H(i,Array.isArray(i)?[]:{}):U(i,f(t)?{}:t[r],n[r]);else{let e=t[r];n[r]=!F(i,e)}}return n}var ge={value:!1,isValid:!1},W={value:!0,isValid:!0},_e=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===``?W:{value:e[0].value,isValid:!0}:W:ge}return ge},ve=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>S(e)?e:t?e===``?NaN:e&&+e:n&&P(e)?new Date(e):r?r(e):e,G={isValid:!1,value:null},ye=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,G):G;function be(e){let t=e.ref;return le(t)?t.files:R(t)?ye(e.refs).value:de(t)?[...t.selectedOptions].map(({value:e})=>e):u(t)?_e(e.refs).value:ve(S(t.value)?e.ref.value:t.value,e)}var xe=(e,t,n,r)=>{let i={};for(let n of e){let e=T(t,n);e&&O(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},K=e=>e instanceof RegExp,q=e=>S(e)?e:K(e)?e.source:m(e)?K(e.value)?e.value.source:e.value:e,Se=e=>({isOnSubmit:!e||e===k.onSubmit,isOnBlur:e===k.onBlur,isOnChange:e===k.onChange,isOnAll:e===k.all,isOnTouch:e===k.onTouched}),J=`AsyncFunction`,Ce=e=>!!e&&!!e.validate&&!!(D(e.validate)&&e.validate.constructor.name===J||m(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===J)),we=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Te=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),Y=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=T(e,i);if(n){let{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r||e.ref&&t(e.ref,e.name)&&!r)return!0;if(Y(a,t))break}else if(m(a)&&Y(a,t))break}}};function Ee(e,t,n){let r=T(e,n);if(r||x(n))return{error:r,name:n};let i=n.split(`.`);for(;i.length;){let r=i.join(`.`),a=T(t,r),o=T(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var De=(e,t,n,r)=>{n(e);let{name:i,...a}=e;return L(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||k.all))},Oe=(e,t,n)=>!e||!t||e===t||I(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))),ke=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Ae=(e,t)=>!C(T(e,t)).length&&B(e,t),je=(e,t,n)=>{let r=I(T(e,n));return O(r,`root`,t[n]),O(e,n,r),e};function Me(e,t,n=`validate`){if(P(e)||Array.isArray(e)&&e.every(P)||E(e)&&!e)return{type:n,message:P(e)?e:``,ref:t}}var X=e=>m(e)&&!K(e)?e:{value:e,message:``},Ne=async(e,t,n,r,i,a)=>{let{ref:o,refs:s,required:c,maxLength:l,minLength:d,min:p,max:h,pattern:g,validate:_,name:v,valueAsNumber:y,mount:b}=e._f,x=T(n,v);if(!b||t.has(v))return{};let C=s?s[0]:o,w=e=>{i&&C.reportValidity&&(C.setCustomValidity(E(e)?``:e||``),C.reportValidity())},O={},ee=R(o),k=u(o),j=ee||k,M=(y||le(o))&&S(o.value)&&S(x)||ue(o)&&o.value===``||x===``||Array.isArray(x)&&!x.length,N=oe.bind(null,v,r,O),te=(e,t,n,r=A.maxLength,i=A.minLength)=>{let a=e?t:n;O[v]={type:e?r:i,message:a,ref:o,...N(e?r:i,a)}};if(a?!Array.isArray(x)||!x.length:c&&(!j&&(M||f(x))||E(x)&&!x||k&&!_e(s).isValid||ee&&!ye(s).isValid)){let{value:e,message:t}=P(c)?{value:!!c,message:c}:X(c);if(e&&(O[v]={type:A.required,message:t,ref:C,...N(A.required,t)},!r))return w(t),O}if(!M&&(!f(p)||!f(h))){let e,t,n=X(h),i=X(p);if(!f(x)&&!isNaN(x)){let r=o.valueAsNumber||x&&+x;f(n.value)||(e=r>n.value),f(i.value)||(t=r<i.value)}else{let r=o.valueAsDate||new Date(x),a=e=>new Date(new Date().toDateString()+` `+e),s=o.type==`time`,c=o.type==`week`;P(n.value)&&x&&(e=s?a(x)>a(n.value):c?x>n.value:r>new Date(n.value)),P(i.value)&&x&&(t=s?a(x)<a(i.value):c?x<i.value:r<new Date(i.value))}if((e||t)&&(te(!!e,n.message,i.message,A.max,A.min),!r))return w(O[v].message),O}if((l||d)&&!M&&(P(x)||a&&Array.isArray(x))){let e=X(l),t=X(d),n=!f(e.value)&&x.length>+e.value,i=!f(t.value)&&x.length<+t.value;if((n||i)&&(te(n,e.message,t.message),!r))return w(O[v].message),O}if(g&&!M&&P(x)){let{value:e,message:t}=X(g);if(K(e)&&!x.match(e)&&(O[v]={type:A.pattern,message:t,ref:o,...N(A.pattern,t)},!r))return w(t),O}if(_){if(D(_)){let e=Me(await _(x,n),C);if(e&&(O[v]={...e,...N(A.validate,e.message)},!r))return w(e.message),O}else if(m(_)){let e={};for(let t in _){if(!L(e)&&!r)break;let i=Me(await _[t](x,n),C,t);i&&(e={...i,...N(t,i.message)},w(i.message),r&&(O[v]=e))}if(!L(e)&&(O[v]={ref:C,...e},!r))return O}}return w(!0),O},Pe={mode:k.onSubmit,reValidateMode:k.onChange,shouldFocusError:!0};function Fe(e={}){let t={...Pe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:D(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(m(t.defaultValues)||m(t.values))&&b(t.defaultValues||t.values)||{},a=t.shouldUnregister?{}:b(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0,p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...p},v={...g},x={array:se(),state:se()},w=t.criteriaMode===k.all,A=e=>t=>{clearTimeout(l),l=setTimeout(e,t)},j=async e=>{if(!o.keepIsValid&&!t.disabled&&(g.isValid||v.isValid||e)){let e;t.resolver?(e=L((await R()).errors),M()):e=await z(r,!0),e!==n.isValid&&x.state.next({isValid:e})}},M=(e,r)=>{!t.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((e||Array.from(s.mount)).forEach(e=>{e&&(r?O(n.validatingFields,e,r):B(n.validatingFields,e))}),x.state.next({validatingFields:n.validatingFields,isValidating:!L(n.validatingFields)}))},N=(e,s=[],c,l,u=!0,d=!0)=>{if(l&&c&&!t.disabled){if(o.action=!0,d&&Array.isArray(T(r,e))){let t=c(T(r,e),l.argA,l.argB);u&&O(r,e,t)}if(d&&Array.isArray(T(n.errors,e))){let t=c(T(n.errors,e),l.argA,l.argB);u&&O(n.errors,e,t),Ae(n.errors,e)}if((g.touchedFields||v.touchedFields)&&d&&Array.isArray(T(n.touchedFields,e))){let t=c(T(n.touchedFields,e),l.argA,l.argB);u&&O(n.touchedFields,e,t)}(g.dirtyFields||v.dirtyFields)&&(n.dirtyFields=U(i,a)),x.state.next({name:e,isDirty:V(e,s),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else O(a,e,s)},ne=(e,t)=>{O(n.errors,e,t),x.state.next({errors:n.errors})},re=e=>{n.errors=e,x.state.next({errors:n.errors,isValid:!1})},ie=(e,t,n,s)=>{let c=T(r,e);if(c){let r=T(a,e,S(n)?T(i,e):n);S(r)||s&&s.defaultChecked||t?O(a,e,t?r:be(c._f)):W(e,r),o.mount&&!o.action&&j()}},ae=(e,r,a,o,s)=>{let c=!1,l=!1,u={name:e};if(!t.disabled){if(!a||o){(g.isDirty||v.isDirty)&&(l=n.isDirty,n.isDirty=u.isDirty=V(),c=l!==u.isDirty);let t=F(T(i,e),r);l=!!T(n.dirtyFields,e),t?B(n.dirtyFields,e):O(n.dirtyFields,e,!0),u.dirtyFields=n.dirtyFields,c||=(g.dirtyFields||v.dirtyFields)&&l!==!t}if(a){let t=T(n.touchedFields,e);t||(O(n.touchedFields,e,a),u.touchedFields=n.touchedFields,c||=(g.touchedFields||v.touchedFields)&&t!==a)}c&&s&&x.state.next(u)}return c?u:{}},oe=(e,r,i,a)=>{let o=T(n.errors,e),s=(g.isValid||v.isValid)&&E(r)&&n.isValid!==r;if(t.delayError&&i?(c=A(()=>ne(e,i)),c(t.delayError)):(clearTimeout(l),c=null,i?O(n.errors,e,i):B(n.errors,e)),(i?!F(o,i):o)||!L(a)||s){let t={...a,...s&&E(r)?{isValid:r}:{},errors:n.errors,name:e};n={...n,...t},x.state.next(t)}},R=async e=>(M(e,!0),await t.resolver(a,t.context,xe(e||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),me=async e=>{let{errors:t}=await R(e);if(M(e),e)for(let r of e){let e=T(t,r);e?O(n.errors,r,e):B(n.errors,r)}else n.errors=t;return t},z=async(r,i,o={valid:!0})=>{for(let c in r){let l=r[c];if(l){let{_f:r,...c}=l;if(r){let c=s.array.has(r.name),u=l._f&&Ce(l._f);u&&g.validatingFields&&M([r.name],!0);let d=await Ne(l,s.disabled,a,w,t.shouldUseNativeValidation&&!i,c);if(u&&g.validatingFields&&M([r.name]),d[r.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;!i&&(T(d,r.name)?c?je(n.errors,d,r.name):O(n.errors,r.name,d[r.name]):B(n.errors,r.name))}!L(c)&&await z(c,i,o)}}return o.valid},he=()=>{for(let e of s.unMount){let t=T(r,e);t&&(t._f.refs?t._f.refs.every(e=>!pe(e)):!pe(t._f.ref))&&Q(e)}s.unMount=new Set},V=(e,n)=>!t.disabled&&(e&&n&&O(a,e,n),!F(Me(),i)),H=(e,t,n)=>te(e,s,{...o.mount?a:S(t)?i:P(e)?{[e]:t}:t},n,t),ge=e=>C(T(o.mount?a:i,e,t.shouldUnregister?T(i,e,[]):[])),W=(e,t,n={})=>{let i=T(r,e),o=t;if(i){let n=i._f;n&&(!n.disabled&&O(a,e,ve(t,n)),o=ue(n.ref)&&f(t)?``:t,de(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?u(n.ref)?n.refs.forEach(e=>{(!e.defaultChecked||!e.disabled)&&(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):le(n.ref)?n.ref.value=``:(n.ref.value=o,n.ref.type||x.state.next({name:e,values:b(a)})))}(n.shouldDirty||n.shouldTouch)&&ae(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&J(e)},_e=(e,t,n)=>{for(let i in t){if(!t.hasOwnProperty(i))return;let a=t[i],o=e+`.`+i,c=T(r,o);(s.array.has(e)||m(a)||c&&!c._f)&&!d(a)?_e(o,a,n):W(o,a,n)}},G=(e,t,c={})=>{let l=T(r,e),u=s.array.has(e),d=b(t);O(a,e,d),u?(x.array.next({name:e,values:b(a)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&c.shouldDirty&&x.state.next({name:e,dirtyFields:U(i,a),isDirty:V(e,d)})):l&&!l._f&&!f(d)?_e(e,d,c):W(e,d,c),Te(e,s)?x.state.next({...n,name:e,values:b(a)}):x.state.next({name:o.mount?e:void 0,values:b(a)})},ye=async e=>{o.mount=!0;let i=e.target,l=i.name,u=!0,f=T(r,l),p=e=>{u=Number.isNaN(e)||d(e)&&isNaN(e.getTime())||F(e,T(a,l,e))},m=Se(t.mode),_=Se(t.reValidateMode);if(f){let o,d,y=i.type?be(f._f):h(e),S=e.type===ee.BLUR||e.type===ee.FOCUS_OUT,C=!we(f._f)&&!t.resolver&&!T(n.errors,l)&&!f._f.deps||ke(S,T(n.touchedFields,l),n.isSubmitted,_,m),E=Te(l,s,S);O(a,l,y),S?(!i||!i.readOnly)&&(f._f.onBlur&&f._f.onBlur(e),c&&c(0)):f._f.onChange&&f._f.onChange(e);let D=ae(l,y,S),k=!L(D)||E;if(!S&&x.state.next({name:l,type:e.type,values:b(a)}),C)return(g.isValid||v.isValid)&&(t.mode===`onBlur`?S&&j():S||j()),k&&x.state.next({name:l,...E?{}:D});if(!S&&E&&x.state.next({...n}),t.resolver){let{errors:e}=await R([l]);if(M([l]),p(y),u){let t=Ee(n.errors,r,l),i=Ee(e,r,t.name||l);o=i.error,l=i.name,d=L(e)}}else M([l],!0),o=(await Ne(f,s.disabled,a,w,t.shouldUseNativeValidation))[l],M([l]),p(y),u&&(o?d=!1:(g.isValid||v.isValid)&&(d=await z(r,!0)));u&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&J(f._f.deps),oe(l,d,o,D))}},K=(e,t)=>{if(T(n.errors,t)&&e.focus)return e.focus(),1},J=async(e,i={})=>{let a,o,c=I(e);if(t.resolver){let t=await me(S(e)?e:c);a=L(t),o=e?!c.some(e=>T(t,e)):a}else e?(o=(await Promise.all(c.map(async e=>{let t=T(r,e);return await z(t&&t._f?{[e]:t}:t)}))).every(Boolean),!(!o&&!n.isValid)&&j()):o=a=await z(r);return x.state.next({...!P(e)||(g.isValid||v.isValid)&&a!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:a}:{},errors:n.errors}),i.shouldFocus&&!o&&Y(r,K,e?c:s.mount),o},Me=(e,t)=>{let r={...o.mount?a:i};return t&&(r=ce(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),S(e)?r:P(e)?T(r,e):e.map(e=>T(r,e))},X=(e,t)=>({invalid:!!T((t||n).errors,e),isDirty:!!T((t||n).dirtyFields,e),error:T((t||n).errors,e),isValidating:!!T(n.validatingFields,e),isTouched:!!T((t||n).touchedFields,e)}),Fe=e=>{e&&I(e).forEach(e=>B(n.errors,e)),x.state.next({errors:e?n.errors:{}})},Ie=(e,t,i)=>{let a=(T(r,e,{_f:{}})._f||{}).ref,{ref:o,message:s,type:c,...l}=T(n.errors,e)||{};O(n.errors,e,{...l,...t,ref:a}),x.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&a&&a.focus&&a.focus()},Z=(e,t)=>D(e)?x.state.subscribe({next:n=>`values`in n&&e(H(void 0,t),n)}):H(e,t,!0),Le=e=>x.state.subscribe({next:t=>{Oe(e.name,t.name,e.exact)&&De(t,e.formState||g,qe,e.reRenderRoot)&&e.callback({values:{...a},...n,...t,defaultValues:i})}}).unsubscribe,Re=e=>(o.mount=!0,v={...v,...e.formState},Le({...e,formState:{...p,...e.formState}})),Q=(e,o={})=>{for(let c of e?I(e):s.mount)s.mount.delete(c),s.array.delete(c),o.keepValue||(B(r,c),B(a,c)),!o.keepError&&B(n.errors,c),!o.keepDirty&&B(n.dirtyFields,c),!o.keepTouched&&B(n.touchedFields,c),!o.keepIsValidating&&B(n.validatingFields,c),!t.shouldUnregister&&!o.keepDefaultValue&&B(i,c);x.state.next({values:b(a)}),x.state.next({...n,...o.keepDirty?{isDirty:V()}:{}}),!o.keepIsValid&&j()},ze=({disabled:e,name:t})=>{if(E(e)&&o.mount||e||s.disabled.has(t)){let n=s.disabled.has(t)!==!!e;e?s.disabled.add(t):s.disabled.delete(t),n&&o.mount&&!o.action&&j()}},$=(e,n={})=>{let a=T(r,e),c=E(n.disabled)||E(t.disabled);return O(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...n}}),s.mount.add(e),a?ze({disabled:E(n.disabled)?n.disabled:t.disabled,name:e}):ie(e,!0,n.value),{...c?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:q(n.min),max:q(n.max),minLength:q(n.minLength),maxLength:q(n.maxLength),pattern:q(n.pattern)}:{},name:e,onChange:ye,onBlur:ye,ref:c=>{if(c){$(e,n),a=T(r,e);let t=S(c.value)&&c.querySelectorAll&&c.querySelectorAll(`input,select,textarea`)[0]||c,o=fe(t),s=a._f.refs||[];if(o?s.find(e=>e===t):t===a._f.ref)return;O(r,e,{_f:{...a._f,...o?{refs:[...s.filter(pe),t,...Array.isArray(T(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),ie(e,!1,void 0,t)}else a=T(r,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(_(s.array,e)&&o.action)&&s.unMount.add(e)}}},Be=()=>t.shouldFocusError&&Y(r,K,s.mount),Ve=e=>{E(e)&&(x.state.next({disabled:e}),Y(r,(t,n)=>{let i=T(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},He=(e,i)=>async o=>{let c;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let l=b(a);if(x.state.next({isSubmitting:!0}),t.resolver){let{errors:e,values:t}=await R();M(),n.errors=e,l=b(t)}else await z(r);if(s.disabled.size)for(let e of s.disabled)B(l,e);if(B(n.errors,`root`),L(n.errors)){x.state.next({errors:{}});try{await e(l,o)}catch(e){c=e}}else i&&await i({...n.errors},o),Be(),setTimeout(Be);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:L(n.errors)&&!c,submitCount:n.submitCount+1,errors:n.errors}),c)throw c},Ue=(e,t={})=>{T(r,e)&&(S(t.defaultValue)?G(e,b(T(i,e))):(G(e,t.defaultValue),O(i,e,b(t.defaultValue))),t.keepTouched||B(n.touchedFields,e),t.keepDirty||(B(n.dirtyFields,e),n.isDirty=t.defaultValue?V(e,b(T(i,e))):V()),t.keepError||(B(n.errors,e),g.isValid&&j()),x.state.next({...n}))},We=(e,c={})=>{let l=e?b(e):i,u=b(l),d=L(e),f=d?i:u;if(c.keepDefaultValues||(i=l),!c.keepValues){if(c.keepDirtyValues){let e=new Set([...s.mount,...Object.keys(U(i,a))]);for(let t of Array.from(e)){let e=T(n.dirtyFields,t),r=T(a,t),i=T(f,t);e&&!S(r)?O(f,t,r):!e&&!S(i)&&G(t,i)}}else{if(y&&S(e))for(let e of s.mount){let t=T(r,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ue(e)){let t=e.closest(`form`);if(t){t.reset();break}}}}if(c.keepFieldsRef)for(let e of s.mount)G(e,T(f,e));else r={}}a=t.shouldUnregister?c.keepDefaultValues?b(i):{}:b(f),x.array.next({values:{...f}}),x.state.next({values:{...f}})}s={mount:c.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:``},o.mount=!g.isValid||!!c.keepIsValid||!!c.keepDirtyValues||!t.shouldUnregister&&!L(f),o.watch=!!t.shouldUnregister,o.keepIsValid=!!c.keepIsValid,o.action=!1,c.keepErrors||(n.errors={}),x.state.next({submitCount:c.keepSubmitCount?n.submitCount:0,isDirty:d?!1:c.keepDirty?n.isDirty:!!(c.keepDefaultValues&&!F(e,i)),isSubmitted:c.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:d?{}:c.keepDirtyValues?c.keepDefaultValues&&a?U(i,a):n.dirtyFields:c.keepDefaultValues&&e?U(i,e):c.keepDirty?n.dirtyFields:{},touchedFields:c.keepTouched?n.touchedFields:{},errors:c.keepErrors?n.errors:{},isSubmitSuccessful:c.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ge=(e,n)=>We(D(e)?e(a):e,{...t.resetOptions,...n}),Ke=(e,t={})=>{let n=T(r,e),i=n&&n._f;if(i){let e=i.refs?i.refs[0]:i.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&D(e.select)&&e.select()})}},qe=e=>{n={...n,...e}},Je={control:{register:$,unregister:Q,getFieldState:X,handleSubmit:He,setError:Ie,_subscribe:Le,_runSchema:R,_updateIsValidating:M,_focusError:Be,_getWatch:H,_getDirty:V,_setValid:j,_setFieldArray:N,_setDisabledField:ze,_setErrors:re,_getFieldArray:ge,_reset:We,_resetDefaultValues:()=>D(t.defaultValues)&&t.defaultValues().then(e=>{Ge(e,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:he,_disableForm:Ve,_subjects:x,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return s},set _names(e){s=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:Re,trigger:J,register:$,handleSubmit:He,watch:Z,setValue:G,getValues:Me,reset:Ge,resetField:Ue,clearErrors:Fe,unregister:Q,setError:Ie,setFocus:Ke,getFieldState:X};return{...Je,formControl:Je}}function Ie(e={}){let t=l.useRef(void 0),n=l.useRef(void 0),[r,i]=l.useState({isDirty:!1,isValidating:!1,isLoading:D(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:D(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!D(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:n,...i}=Fe(e);t.current={...i,formState:r}}let a=t.current.control;return a._options=e,N(()=>{let e=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),a._formState.isReady=!0,e},[a]),l.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),l.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),l.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),l.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),l.useEffect(()=>{if(a._proxyFormState.isDirty){let e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}},[a,r.isDirty]),l.useEffect(()=>{e.values&&!F(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),a._options.resetOptions?.keepIsValid||a._setValid(),n.current=e.values,i(e=>({...e}))):a._resetDefaultValues()},[a,e.values]),l.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=l.useMemo(()=>M(r,a),[a,r]),t.current}var Z=n(),Le=ae,Re=l.createContext(null),Q=()=>{let e=(0,c.c)(11),t=l.useContext(Re),n=l.useContext(ze),{getFieldState:r,formState:i}=ie();if(!t)throw Error(`useFormField should be used within <FormField>`);if(!n)throw Error(`useFormField should be used within <FormItem>`);let a;e[0]!==t.name||e[1]!==i||e[2]!==r?(a=r(t.name,i),e[0]=t.name,e[1]=i,e[2]=r,e[3]=a):a=e[3];let o=a,{id:s}=n,u=`${s}-form-item`,d=`${s}-form-item-description`,f=`${s}-form-item-message`,p;return e[4]!==t.name||e[5]!==o||e[6]!==s||e[7]!==u||e[8]!==d||e[9]!==f?(p={id:s,name:t.name,formItemId:u,formDescriptionId:d,formMessageId:f,...o},e[4]=t.name,e[5]=o,e[6]=s,e[7]=u,e[8]=d,e[9]=f,e[10]=p):p=e[10],p},ze=l.createContext(null),$=l.forwardRef((e,t)=>{let n=(0,c.c)(14),r,i;n[0]===e?(r=n[1],i=n[2]):({className:r,...i}=e,n[0]=e,n[1]=r,n[2]=i);let o=l.useId(),s;n[3]===o?s=n[4]:(s={id:o},n[3]=o,n[4]=s);let u;n[5]===r?u=n[6]:(u=a(`space-y-2`,r),n[5]=r,n[6]=u);let d;n[7]!==i||n[8]!==t||n[9]!==u?(d=(0,Z.jsx)(`div`,{ref:t,className:u,...i}),n[7]=i,n[8]=t,n[9]=u,n[10]=d):d=n[10];let f;return n[11]!==s||n[12]!==d?(f=(0,Z.jsx)(ze.Provider,{value:s,children:d}),n[11]=s,n[12]=d,n[13]=f):f=n[13],f});$.displayName=`FormItem`;var Be=l.forwardRef((e,t)=>{let n=(0,c.c)(11),i,o;n[0]===e?(i=n[1],o=n[2]):({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o);let{error:s,formItemId:l}=Q(),u=s&&`text-destructive`,d;n[3]!==i||n[4]!==u?(d=a(u,i),n[3]=i,n[4]=u,n[5]=d):d=n[5];let f;return n[6]!==l||n[7]!==o||n[8]!==t||n[9]!==d?(f=(0,Z.jsx)(r,{ref:t,className:d,htmlFor:l,...o}),n[6]=l,n[7]=o,n[8]=t,n[9]=d,n[10]=f):f=n[10],f});Be.displayName=`FormLabel`;var Ve=l.forwardRef((e,t)=>{let n=(0,c.c)(8),r;n[0]===e?r=n[1]:({...r}=e,n[0]=e,n[1]=r);let{error:i,formItemId:a,formDescriptionId:o,formMessageId:l}=Q(),u=i?`${o} ${l}`:`${o}`,d=!!i,f;return n[2]!==a||n[3]!==r||n[4]!==t||n[5]!==u||n[6]!==d?(f=(0,Z.jsx)(s,{ref:t,id:a,"aria-describedby":u,"aria-invalid":d,...r}),n[2]=a,n[3]=r,n[4]=t,n[5]=u,n[6]=d,n[7]=f):f=n[7],f});Ve.displayName=`FormControl`;var He=l.forwardRef((e,t)=>{let n=(0,c.c)(10),r,i;n[0]===e?(r=n[1],i=n[2]):({className:r,...i}=e,n[0]=e,n[1]=r,n[2]=i);let{formDescriptionId:o}=Q(),s;n[3]===r?s=n[4]:(s=a(`text-sm text-muted-foreground`,r),n[3]=r,n[4]=s);let l;return n[5]!==o||n[6]!==i||n[7]!==t||n[8]!==s?(l=(0,Z.jsx)(`p`,{ref:t,id:o,className:s,...i}),n[5]=o,n[6]=i,n[7]=t,n[8]=s,n[9]=l):l=n[9],l});He.displayName=`FormDescription`;var Ue=l.forwardRef((e,t)=>{let n=(0,c.c)(12),r,i,o;n[0]===e?(r=n[1],i=n[2],o=n[3]):({className:i,children:r,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o);let{error:s,formMessageId:l}=Q(),u=s?String(s?.message??``):r;if(!u)return null;let d;n[4]===i?d=n[5]:(d=a(`text-sm font-medium text-destructive`,i),n[4]=i,n[5]=d);let f;return n[6]!==u||n[7]!==l||n[8]!==o||n[9]!==t||n[10]!==d?(f=(0,Z.jsx)(`p`,{ref:t,id:l,className:d,...o,children:u}),n[6]=u,n[7]=l,n[8]=o,n[9]=t,n[10]=d,n[11]=f):f=n[11],f});Ue.displayName=`FormMessage`;var We=o();function Ge(e){let t=(0,We.c)(20),n,r,o,s;t[0]===e?(n=t[1],r=t[2],o=t[3],s=t[4]):({onSubmit:o,children:n,className:r,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=s);let c=Ie(),u;t[5]!==c||t[6]!==o?(u=async e=>{if(e.preventDefault(),!o)return;let t=c.getValues();if(typeof o==`string`){let e=i(o);e&&await e(t)}else await o(t)},t[5]=c,t[6]=o,t[7]=u):u=t[7];let d=u,f;t[8]===n?f=t[9]:(f=l.Children.map(n,Ke),t[8]=n,t[9]=f);let p=f,m;t[10]===r?m=t[11]:(m=a(`space-y-4`,r),t[10]=r,t[11]=m);let h;t[12]!==d||t[13]!==s||t[14]!==m||t[15]!==p?(h=(0,Z.jsx)(`form`,{onSubmit:d,className:m,...s,children:p}),t[12]=d,t[13]=s,t[14]=m,t[15]=p,t[16]=h):h=t[16];let g;return t[17]!==c||t[18]!==h?(g=(0,Z.jsx)(Le,{...c,children:h}),t[17]=c,t[18]=h,t[19]=g):g=t[19],g}function Ke(e,t){return e==null?null:(0,Z.jsx)($,{className:`mb-4`,children:e},t)}var qe=Ge;export{Ge as Form,qe as default};